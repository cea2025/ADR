const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CYCVVwD1.js","assets/vendor-Bz3rmKJE.js","assets/mobile-CwmOuqsT.js","assets/download-C1korO4m.js","assets/pdf-CFP917pd.js","assets/AdminDashboard-CzLYiAI7.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,i=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,o=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&i(e,r,t[r]);if(n)for(var r of n(t))a.call(t,r)&&i(e,r,t[r]);return e},l=(e,n)=>t(e,r(n)),c=(e,t,r)=>i(e,"symbol"!=typeof t?t+"":t,r),d=(e,t,r)=>new Promise((n,s)=>{var a=e=>{try{o(r.next(e))}catch(t){s(t)}},i=e=>{try{o(r.throw(e))}catch(t){s(t)}},o=e=>e.done?n(e.value):Promise.resolve(e.value).then(a,i);o((r=r.apply(e,t)).next())});import{r as u,a as m,g as h,R as p}from"./vendor-Bz3rmKJE.js";import{_ as f}from"./pdf-CFP917pd.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var x={exports:{}},g={},v=u,y=Symbol.for("react.element"),b=Symbol.for("react.fragment"),w=Object.prototype.hasOwnProperty,j=v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var n,s={},a=null,i=null;for(n in void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(i=t.ref),t)w.call(t,n)&&!N.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:y,type:e,key:a,ref:i,props:s,_owner:j.current}}g.Fragment=b,g.jsx=k,g.jsxs=k,x.exports=g;var S=x.exports,E={},C=m;E.createRoot=C.createRoot,E.hydrateRoot=C.hydrateRoot;const P=({children:e})=>S.jsx("div",{className:"min-h-screen bg-adr-cream font-hebrew",children:S.jsx("div",{className:"flex flex-col min-h-screen",children:e})});
/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var O={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=(e,t)=>{const r=u.forwardRef((r,i)=>{var c,d=r,{color:m="currentColor",size:h=24,strokeWidth:p=2,absoluteStrokeWidth:f,className:x="",children:g}=d,v=((e,t)=>{var r={};for(var i in e)s.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&n)for(var i of n(e))t.indexOf(i)<0&&a.call(e,i)&&(r[i]=e[i]);return r})(d,["color","size","strokeWidth","absoluteStrokeWidth","className","children"]);return u.createElement("svg",o(l(o({ref:i},O),{width:h,height:h,stroke:m,strokeWidth:f?24*Number(p)/Number(h):p,className:["lucide",`lucide-${c=e,c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,x].join(" ")}),v),[...t.map(([e,t])=>u.createElement(e,t)),...Array.isArray(g)?g:[g]])});return r.displayName=`${e}`,r},L=M("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),R=M("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),T=M("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),I=M("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),A=M("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),D=M("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),z=M("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),_=M("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),W=M("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),V=M("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),H=M("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),F=M("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),U=M("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),B=M("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),$=e=>{let t;const r=new Set,n=(e,n)=>{const s="function"==typeof e?e(t):e;if(!Object.is(s,t)){const e=t;t=(null!=n?n:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,a={setState:n,getState:s,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{r.clear()}},i=t=e(n,s,a);return a};var q={exports:{}},Y={},G={exports:{}},J={},Z=u;var K="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},X=Z.useState,Q=Z.useEffect,ee=Z.useLayoutEffect,te=Z.useDebugValue;function re(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!K(e,r)}catch(n){return!0}}var ne="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=X({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return ee(function(){s.value=r,s.getSnapshot=t,re(s)&&a({inst:s})},[e,r,t]),Q(function(){return re(s)&&a({inst:s}),e(function(){re(s)&&a({inst:s})})},[e]),te(r),r};J.useSyncExternalStore=void 0!==Z.useSyncExternalStore?Z.useSyncExternalStore:ne,G.exports=J;var se=G.exports,ae=u,ie=se;
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oe="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},le=ie.useSyncExternalStore,ce=ae.useRef,de=ae.useEffect,ue=ae.useMemo,me=ae.useDebugValue;Y.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var a=ce(null);if(null===a.current){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=ue(function(){function e(e){if(!l){if(l=!0,a=e,e=n(e),void 0!==s&&i.hasValue){var t=i.value;if(s(t,e))return o=t}return o=e}if(t=o,oe(a,e))return t;var r=n(e);return void 0!==s&&s(t,r)?(a=e,t):(a=e,o=r)}var a,o,l=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,s]);var o=le(e,a[0],a[1]);return de(function(){i.hasValue=!0,i.value=o},[o]),me(o),o},q.exports=Y;const he=h(q.exports),pe={},{useDebugValue:fe}=p,{useSyncExternalStoreWithSelector:xe}=he;let ge=!1;const ve=e=>e;const ye=e=>{const t="function"==typeof e?(e=>e?$(e):$)(e):e,r=(e,r)=>function(e,t=ve,r){"production"!==(pe?"production":void 0)&&r&&!ge&&(ge=!0);const n=xe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return fe(n),n}(t,e,r);return Object.assign(r,t),r},be=e=>ye;function we(e,t){let r;try{r=e()}catch(n){return}return{getItem:e=>{var t;const n=e=>null===e?null:JSON.parse(e,void 0),s=null!=(t=r.getItem(e))?t:null;return s instanceof Promise?s.then(n):n(s)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}const je=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then:e=>je(e)(r),catch(e){return this}}}catch(r){return{then(e){return this},catch:e=>je(e)(r)}}},Ne=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((e,t)=>(r,n,s)=>{let a=o({getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>o(o({},t),e)},t),i=!1;const l=new Set,c=new Set;let d;try{d=a.getStorage()}catch(g){}if(!d)return e((...e)=>{r(...e)},n,s);const u=je(a.serialize),m=()=>{const e=a.partialize(o({},n()));let t;const r=u({state:e,version:a.version}).then(e=>d.setItem(a.name,e)).catch(e=>{t=e});if(t)throw t;return r},h=s.setState;s.setState=(e,t)=>{h(e,t),m()};const p=e((...e)=>{r(...e),m()},n,s);let f;const x=()=>{var e;if(!d)return;i=!1,l.forEach(e=>e(n()));const t=(null==(e=a.onRehydrateStorage)?void 0:e.call(a,n()))||void 0;return je(d.getItem.bind(d))(a.name).then(e=>{if(e)return a.deserialize(e)}).then(e=>{if(e){if("number"!=typeof e.version||e.version===a.version)return e.state;if(a.migrate)return a.migrate(e.state,e.version)}}).then(e=>{var t;return f=a.merge(e,null!=(t=n())?t:p),r(f,!0),m()}).then(()=>{null==t||t(f,void 0),i=!0,c.forEach(e=>e(f))}).catch(e=>{null==t||t(void 0,e)})};return s.persist={setOptions:e=>{a=o(o({},a),e),e.getStorage&&(d=e.getStorage())},clearStorage:()=>{null==d||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>x(),hasHydrated:()=>i,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},x(),f||p})(e,t):((e,t)=>(r,n,s)=>{let a=o({storage:we(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>o(o({},t),e)},t),i=!1;const l=new Set,c=new Set;let d=a.storage;if(!d)return e((...e)=>{r(...e)},n,s);const u=()=>{const e=a.partialize(o({},n()));return d.setItem(a.name,{state:e,version:a.version})},m=s.setState;s.setState=(e,t)=>{m(e,t),u()};const h=e((...e)=>{r(...e),u()},n,s);let p;s.getInitialState=()=>h;const f=()=>{var e,t;if(!d)return;i=!1,l.forEach(e=>{var t;return e(null!=(t=n())?t:h)});const s=(null==(t=a.onRehydrateStorage)?void 0:t.call(a,null!=(e=n())?e:h))||void 0;return je(d.getItem.bind(d))(a.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===a.version)return[!1,e.state];if(a.migrate)return[!0,a.migrate(e.state,e.version)]}return[!1,void 0]}).then(e=>{var t;const[s,i]=e;if(p=a.merge(i,null!=(t=n())?t:h),r(p,!0),s)return u()}).then(()=>{null==s||s(p,void 0),p=n(),i=!0,c.forEach(e=>e(p))}).catch(e=>{null==s||s(void 0,e)})};return s.persist={setOptions:e=>{a=o(o({},a),e),e.storage&&(d=e.storage)},clearStorage:()=>{null==d||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>f(),hasHydrated:()=>i,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},a.skipHydration||f(),p||h})(e,t),ke=[{id:"policy-1",name:"פוליסת כוכב",age:78,coupleType:"single",insuranceCompany:"AIG",companyRating:"AA",faceValue:5e4,lifeExpectancy:8,openingCost:500,monthlyManagementFee:150,purchaseCost:12e3,monthlyPremium:200},{id:"policy-2",name:"משה וחנה",age:{male:82,female:79},coupleType:"couple",insuranceCompany:"MetLife",companyRating:"A+",faceValue:75e3,lifeExpectancy:12,openingCost:750,monthlyManagementFee:200,purchaseCost:18e3,monthlyPremium:250},{id:"policy-3",name:"פוליסת יהלום",age:75,coupleType:"single",insuranceCompany:"Prudential",companyRating:"AAA",faceValue:1e5,lifeExpectancy:10,openingCost:1e3,monthlyManagementFee:300,purchaseCost:25e3,monthlyPremium:400},{id:"policy-4",name:"פוליסת זהב",age:80,coupleType:"single",insuranceCompany:"New York Life",companyRating:"AA+",faceValue:6e4,lifeExpectancy:7,openingCost:600,monthlyManagementFee:180,purchaseCost:15e3,monthlyPremium:220},{id:"policy-5",name:"פוליסת כסף",age:{male:85,female:83},coupleType:"couple",insuranceCompany:"Guardian",companyRating:"A",faceValue:45e3,lifeExpectancy:9,openingCost:450,monthlyManagementFee:120,purchaseCost:11e3,monthlyPremium:180}],Se=be()(Ne((e,t)=>({policies:ke,lastModified:Date.now(),addPolicy:t=>{var r;const n=l(o({},t),{id:`policy-${Date.now()}`,isActive:null==(r=t.isActive)||r});return e(e=>({policies:[...e.policies,n],lastModified:Date.now()})),n},updatePolicy:(t,r)=>{e(e=>({policies:e.policies.map(e=>e.id===t?o(o({},e),r):e),lastModified:Date.now()}))},deletePolicy:t=>{e(e=>({policies:e.policies.filter(e=>e.id!==t),lastModified:Date.now()}))},resetPolicies:()=>{e({policies:ke,lastModified:Date.now()})},getPolicyById:e=>t().policies.find(t=>t.id===e),getActivePolicies:()=>t().policies.filter(e=>!1!==e.isActive),getPoliciesByCompany:e=>t().policies.filter(t=>t.insuranceCompany===e),getTotalValue:()=>t().policies.reduce((e,t)=>e+t.purchaseCost,0),getAverageAge:()=>{const e=t().policies;if(0===e.length)return 0;const r=e.reduce((e,t)=>e+("number"==typeof t.age?t.age:(t.age.male+t.age.female)/2),0);return Math.round(r/e.length)}}),{name:"adr-policies-storage",partialize:e=>({policies:e.policies,lastModified:e.lastModified})})),Ee=be()(Ne((e,t)=>({selectedPolicies:[],userType:"website",exchangeRate:3.65,addPolicy:r=>{const{selectedPolicies:n}=t(),s=n.find(e=>e.policyId===r.policyId);e(s?{selectedPolicies:n.map(e=>e.policyId===r.policyId?l(o({},e),{units:Math.min(e.units+r.units,10)}):e)}:{selectedPolicies:[...n,r]})},removePolicy:r=>{e({selectedPolicies:t().selectedPolicies.filter(e=>e.policyId!==r)})},updatePolicyUnits:(r,n)=>{e({selectedPolicies:t().selectedPolicies.map(e=>e.policyId===r?l(o({},e),{units:n}):e)})},setUserType:t=>e({userType:t}),setExchangeRate:t=>e({exchangeRate:t}),clearSelection:()=>e({selectedPolicies:[]}),getSelectedPoliciesData:()=>{const{selectedPolicies:e}=t(),r=Se.getState();return e.map(e=>r.policies.find(t=>t.id===e.policyId)).filter(Boolean)},getTotalInvestment:()=>{const{selectedPolicies:e}=t(),r=Se.getState();return e.reduce((e,t)=>{const n=r.policies.find(e=>e.id===t.policyId);return e+((null==n?void 0:n.purchaseCost)||0)*t.units},0)}}),{name:"adr-calculator-storage",partialize:e=>({selectedPolicies:e.selectedPolicies,userType:e.userType,exchangeRate:e.exchangeRate})})),Ce=u.createContext(null),Pe=({children:e})=>{const t=Ee();return S.jsx(Ce.Provider,{value:t,children:e})},Oe=()=>{const e=u.useContext(Ce);if(!e)throw new Error("useCalculator must be used within CalculatorProvider");return e},Me=[{component:"actualLE",manager:!0,representative:!1,website:!1},{component:"actualReturns",manager:!0,representative:!1,website:!1},{component:"policyManagement",manager:!0,representative:!1,website:!1},{component:"allCalculations",manager:!0,representative:!0,website:!1},{component:"exchangeRateEdit",manager:!0,representative:!0,website:!1},{component:"pdfExport",manager:!0,representative:!0,website:!0},{component:"savedCalculations",manager:!0,representative:!0,website:!0},{component:"basicCalculator",manager:!0,representative:!0,website:!0},{component:"highestLE",manager:!0,representative:!0,website:!0},{component:"upTo110Age",manager:!0,representative:!0,website:!0}],Le=(e,t)=>{const r=Me.find(e=>e.component===t);if(!r)return!1;switch(e){case"manager":return r.manager;case"representative":return r.representative;case"website":return r.website;default:return!1}},Re=({onAdminToggle:e,showAdmin:t=!1})=>{var r;const{userType:n,setUserType:s}=Oe(),[a,i]=u.useState(!1),o=Le(n,"policyManagement"),l=[{value:"website",label:"אתר"},{value:"representative",label:"נציג"},{value:"manager",label:"מנהל"}];return S.jsx("header",{className:"bg-adr-brown text-white shadow-lg",children:S.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[S.jsxs("div",{className:"flex items-center justify-between h-16 md:h-20",children:[S.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4 space-x-reverse",children:[S.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-adr-gold rounded-lg flex items-center justify-center",children:S.jsx("span",{className:"text-adr-brown text-xl md:text-2xl font-bold",children:"ADR"})}),S.jsxs("div",{className:"hidden sm:block",children:[S.jsx("h1",{className:"text-lg md:text-2xl font-bold",children:"מחשבון Life Settlements"}),S.jsx("p",{className:"text-adr-gold text-xs md:text-sm",children:"חברת ADR - השקעות מתקדמות"})]}),S.jsx("div",{className:"sm:hidden",children:S.jsx("h1",{className:"text-lg font-bold",children:"ADR Calculator"})})]}),S.jsxs("div",{className:"hidden md:flex items-center space-x-4 space-x-reverse",children:[o&&e&&S.jsxs("button",{onClick:e,className:"flex items-center space-x-2 space-x-reverse px-4 py-2 rounded-lg border transition-colors "+(t?"bg-adr-gold text-adr-brown border-adr-gold":"bg-transparent text-adr-gold border-adr-gold hover:bg-adr-gold hover:text-adr-brown"),children:[S.jsx(W,{className:"w-4 h-4"}),S.jsx("span",{className:"text-sm font-medium",children:t?"מחשבון":"ניהול"})]}),S.jsx("label",{className:"text-adr-gold text-sm font-medium",children:"סוג משתמש:"}),S.jsx("select",{value:n,onChange:e=>s(e.target.value),className:"bg-adr-light-brown text-white px-3 py-2 rounded-lg border border-adr-gold focus:ring-2 focus:ring-adr-gold focus:border-transparent",children:l.map(e=>S.jsx("option",{value:e.value,children:e.label},e.value))})]}),S.jsx("button",{className:"md:hidden text-white p-2",onClick:()=>i(!a),"aria-label":a?"סגור תפריט":"פתח תפריט",children:a?S.jsx(U,{className:"w-6 h-6"}):S.jsx(D,{className:"w-6 h-6"})})]}),a&&S.jsx("div",{className:"md:hidden pb-4 border-t border-adr-gold pt-4",children:S.jsxs("div",{className:"space-y-4",children:[o&&e&&S.jsxs("button",{onClick:()=>{e(),i(!1)},className:"w-full flex items-center space-x-3 space-x-reverse p-3 rounded-lg border transition-colors "+(t?"bg-adr-gold text-adr-brown border-adr-gold":"bg-transparent text-adr-gold border-adr-gold hover:bg-adr-gold hover:text-adr-brown"),children:[S.jsx(W,{className:"w-5 h-5"}),S.jsx("span",{className:"font-medium",children:t?"חזור למחשבון":"פאנל ניהול"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-adr-gold text-sm font-medium mb-2",children:"סוג משתמש:"}),S.jsx("select",{value:n,onChange:e=>s(e.target.value),className:"w-full bg-adr-light-brown text-white px-3 py-3 rounded-lg border border-adr-gold focus:ring-2 focus:ring-adr-gold focus:border-transparent",children:l.map(e=>S.jsx("option",{value:e.value,children:e.label},e.value))})]}),S.jsx("div",{className:"text-center",children:S.jsxs("p",{className:"text-adr-gold text-sm",children:["משתמש נוכחי: ",S.jsx("span",{className:"text-white font-medium",children:null==(r=l.find(e=>e.value===n))?void 0:r.label})]})})]})})]})})},Te=({icon:e,label:t,active:r,onClick:n})=>S.jsxs("button",{onClick:n,className:"flex flex-col items-center justify-center py-2 transition-colors "+(r?"text-adr-brown bg-adr-cream":"text-adr-light-brown hover:text-adr-brown"),children:[S.jsx("div",{className:"w-6 h-6 mb-1",children:e}),S.jsx("span",{className:"text-xs font-medium",children:t})]}),Ie=()=>{const[e,t]=u.useState("calculator");return S.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 safe-area-bottom",children:S.jsxs("div",{className:"grid grid-cols-4 h-16",children:[S.jsx(Te,{icon:S.jsx(R,{className:"w-5 h-5"}),label:"מחשבון",active:"calculator"===e,onClick:()=>t("calculator")}),S.jsx(Te,{icon:S.jsx(V,{className:"w-5 h-5"}),label:"תוצאות",active:"results"===e,onClick:()=>t("results")}),S.jsx(Te,{icon:S.jsx(I,{className:"w-5 h-5"}),label:"היסטוריה",active:"history"===e,onClick:()=>t("history")}),S.jsx(Te,{icon:S.jsx(_,{className:"w-5 h-5"}),label:"הגדרות",active:"settings"===e,onClick:()=>t("settings")})]})})},Ae=({onRefresh:e,children:t})=>{const{isRefreshing:r,pullDistance:n,pullProgress:s}=(({onRefresh:e,threshold:t=80,maxPullDistance:r=120})=>{const[n,s]=u.useState(!1),[a,i]=u.useState(0),[o,l]=u.useState(0),c=u.useCallback(e=>{0===window.scrollY&&l(e.touches[0].clientY)},[]),m=u.useCallback(e=>{if(0===window.scrollY&&o>0){const t=e.touches[0].clientY,n=Math.max(0,t-o);n>0&&(e.preventDefault(),i(Math.min(n,r)))}},[o,r]),h=u.useCallback(()=>d(void 0,null,function*(){if(a>=t&&!n){s(!0);try{yield e()}finally{s(!1)}}i(0),l(0)}),[a,t,n,e]);return u.useEffect(()=>(document.addEventListener("touchstart",c,{passive:!1}),document.addEventListener("touchmove",m,{passive:!1}),document.addEventListener("touchend",h,{passive:!1}),()=>{document.removeEventListener("touchstart",c),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",h)}),[c,m,h]),{isRefreshing:n,pullDistance:a,pullProgress:Math.min(a/t,1)}})({onRefresh:e});return S.jsxs("div",{className:"relative",children:[n>0&&S.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 pointer-events-none",children:S.jsx("div",{className:"flex items-center justify-center py-4",children:S.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse bg-adr-brown text-white px-4 py-2 rounded-full shadow-lg",style:{transform:`scale(${.8+.2*s})`,opacity:s},children:[S.jsx(z,{className:"w-5 h-5 transition-transform duration-200 "+(r?"animate-spin":"")}),S.jsx("span",{className:"text-sm font-medium",children:r?"מעדכן...":"החלק למטה לרענון"})]})})}),t]})};class De extends u.Component{constructor(e){super(e),c(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})}),c(this,"handleGoHome",()=>{window.location.href="/"}),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:S.jsx("div",{className:"min-h-screen bg-adr-cream flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full text-center",children:[S.jsx("div",{className:"flex justify-center mb-4",children:S.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:S.jsx(L,{className:"w-8 h-8 text-red-600"})})}),S.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"משהו השתבש"}),S.jsx("p",{className:"text-gray-600 mb-6",children:"אירעה שגיאה לא צפויה. אנא נסה שוב או פנה לתמיכה."}),!1,S.jsxs("div",{className:"space-y-3",children:[S.jsxs("button",{onClick:this.handleRetry,className:"w-full bg-adr-brown text-white py-3 px-4 rounded-lg font-medium hover:bg-adr-light-brown transition-colors flex items-center justify-center space-x-2 space-x-reverse",children:[S.jsx(z,{className:"w-4 h-4"}),S.jsx("span",{children:"נסה שוב"})]}),S.jsxs("button",{onClick:this.handleGoHome,className:"w-full bg-gray-200 text-gray-800 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors flex items-center justify-center space-x-2 space-x-reverse",children:[S.jsx(A,{className:"w-4 h-4"}),S.jsx("span",{children:"חזור לדף הבית"})]})]})]})}):this.props.children}}const ze=()=>{const{isUpdated:e,skipWaiting:t}=(()=>{const[e,t]=u.useState({isSupported:"serviceWorker"in navigator,isInstalled:!1,isUpdated:!1,registration:null});return u.useEffect(()=>{e.isSupported&&d(void 0,null,function*(){try{const e=yield navigator.serviceWorker.register("/sw.js");t(t=>l(o({},t),{isInstalled:!0,registration:e})),e.addEventListener("updatefound",()=>{const r=e.installing;r&&r.addEventListener("statechange",()=>{"installed"===r.state&&navigator.serviceWorker.controller&&t(e=>l(o({},e),{isUpdated:!0}))})}),navigator.serviceWorker.addEventListener("controllerchange",()=>{window.location.reload()}),navigator.serviceWorker.addEventListener("error",e=>{})}catch(e){}})},[e.isSupported]),l(o({},e),{updateServiceWorker:()=>d(void 0,null,function*(){if(e.registration)try{yield e.registration.update(),t(e=>l(o({},e),{isUpdated:!1}))}catch(r){}}),skipWaiting:()=>d(void 0,null,function*(){if(e.registration&&e.registration.waiting)try{e.registration.waiting.postMessage({type:"SKIP_WAITING"}),t(e=>l(o({},e),{isUpdated:!1}))}catch(r){}})})})();return e?S.jsx("div",{className:"fixed top-0 left-0 right-0 bg-adr-brown text-white p-4 z-50 safe-area-top",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[S.jsx(z,{className:"w-5 h-5 animate-spin"}),S.jsx("span",{className:"text-sm font-medium",children:"עדכון חדש זמין"})]}),S.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[S.jsx("button",{onClick:t,className:"bg-adr-gold text-adr-brown px-3 py-1 rounded text-sm font-medium hover:bg-adr-light-brown transition-colors",children:"עדכן עכשיו"}),S.jsx("button",{onClick:()=>window.location.reload(),className:"text-adr-gold hover:text-white transition-colors","aria-label":"סגור",children:S.jsx(U,{className:"w-4 h-4"})})]})]})}):null},_e=()=>{const{isOffline:e,getOfflineDuration:t}=(()=>{const[e,t]=u.useState({isOnline:navigator.onLine,isOffline:!navigator.onLine,lastOnline:navigator.onLine?new Date:null,lastOffline:navigator.onLine?null:new Date});return u.useEffect(()=>{const e=()=>{t(e=>l(o({},e),{isOnline:!0,isOffline:!1,lastOnline:new Date})),"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"SYNC_OFFLINE_DATA"})},r=()=>{t(e=>l(o({},e),{isOnline:!1,isOffline:!0,lastOffline:new Date}))};return window.addEventListener("online",e),window.addEventListener("offline",r),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}},[]),l(o({},e),{checkConnectivity:()=>d(void 0,null,function*(){try{return(yield fetch("/favicon.ico",{method:"HEAD",cache:"no-cache"})).ok}catch(e){return!1}}),getOfflineDuration:()=>e.lastOffline?Date.now()-e.lastOffline.getTime():null,getOnlineDuration:()=>e.lastOnline?Date.now()-e.lastOnline.getTime():null})})();if(!e)return null;const r=t(),n=r?Math.floor(r/6e4):0;return S.jsx("div",{className:"fixed top-0 left-0 right-0 bg-red-600 text-white p-3 z-40 safe-area-top",children:S.jsxs("div",{className:"flex items-center justify-center space-x-2 space-x-reverse",children:[S.jsx(F,{className:"w-4 h-4"}),S.jsx("span",{className:"text-sm font-medium",children:"אין חיבור לאינטרנט"}),n>0&&S.jsxs("span",{className:"text-xs opacity-80",children:["(",n," דקות)"]})]})})},We=()=>S.jsx("a",{href:"#main-content",className:"skip-link",children:"דלג לתוכן הראשי"}),Ve=u.createContext(void 0),He=({children:e})=>{const[t,r]=u.useState(!1),[n,s]=u.useState(!1),[a,i]=u.useState(!1),[o,l]=u.useState(!1);u.useEffect(()=>{const e=window.matchMedia("(prefers-reduced-motion: reduce)");i(e.matches);const t=e=>{i(e.matches)};e.addEventListener("change",t);(()=>{const e=window.navigator.userAgent.includes("NVDA")||window.navigator.userAgent.includes("JAWS")||window.navigator.userAgent.includes("VoiceOver");l(e)})();const n="true"===localStorage.getItem("adr-high-contrast"),a="true"===localStorage.getItem("adr-large-text");return r(n),s(a),()=>{e.removeEventListener("change",t)}},[]),u.useEffect(()=>{const e=document.documentElement;t?e.classList.add("high-contrast"):e.classList.remove("high-contrast"),n?e.classList.add("large-text"):e.classList.remove("large-text"),a?e.classList.add("reduced-motion"):e.classList.remove("reduced-motion")},[t,n,a]);const c={isHighContrast:t,isLargeText:n,isReducedMotion:a,isScreenReader:o,toggleHighContrast:()=>{const e=!t;r(e),localStorage.setItem("adr-high-contrast",e.toString())},toggleLargeText:()=>{const e=!n;s(e),localStorage.setItem("adr-large-text",e.toString())},toggleReducedMotion:()=>{i(!a)}};return S.jsx(Ve.Provider,{value:c,children:e})},Fe=()=>{const[e,t]=u.useState(!1),{isHighContrast:r,isLargeText:n,isReducedMotion:s,toggleHighContrast:a,toggleLargeText:i,toggleReducedMotion:o}=(()=>{const e=u.useContext(Ve);if(void 0===e)throw new Error("useAccessibility must be used within an AccessibilityProvider");return e})();return S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>t(!e),className:"fixed bottom-24 right-4 z-40 w-12 h-12 bg-adr-brown rounded-full shadow-lg flex items-center justify-center text-white hover:bg-adr-light-brown transition-colors","aria-label":"הגדרות נגישות",children:S.jsx(_,{className:"w-6 h-6"})}),e&&S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-end justify-center p-4",children:S.jsxs("div",{className:"bg-white rounded-t-lg w-full max-w-md max-h-[80vh] overflow-y-auto",children:[S.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[S.jsx("h3",{className:"text-lg font-bold text-adr-brown",children:"הגדרות נגישות"}),S.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-700","aria-label":"סגור",children:S.jsx(U,{className:"w-5 h-5"})})]}),S.jsxs("div",{className:"p-4 space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[S.jsx(T,{className:"w-5 h-5 text-adr-brown"}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-medium text-gray-900",children:"ניגודיות גבוהה"}),S.jsx("p",{className:"text-sm text-gray-500",children:"שיפור הניגודיות לצבעים"})]})]}),S.jsx("button",{onClick:a,className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors "+(r?"bg-adr-brown":"bg-gray-200"),"aria-label":(r?"כבוי":"פועל")+" ניגודיות גבוהה",children:S.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform "+(r?"translate-x-6":"translate-x-1")})})]}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[S.jsx(H,{className:"w-5 h-5 text-adr-brown"}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-medium text-gray-900",children:"טקסט גדול"}),S.jsx("p",{className:"text-sm text-gray-500",children:"הגדלת גודל הטקסט"})]})]}),S.jsx("button",{onClick:i,className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors "+(n?"bg-adr-brown":"bg-gray-200"),"aria-label":(n?"כבוי":"פועל")+" טקסט גדול",children:S.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform "+(n?"translate-x-6":"translate-x-1")})})]}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[S.jsx(B,{className:"w-5 h-5 text-adr-brown"}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-medium text-gray-900",children:"הפחתת תנועה"}),S.jsx("p",{className:"text-sm text-gray-500",children:"הפחתת אנימציות"})]})]}),S.jsx("button",{onClick:o,className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors "+(s?"bg-adr-brown":"bg-gray-200"),"aria-label":(s?"כבוי":"פועל")+" הפחתת תנועה",children:S.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform "+(s?"translate-x-6":"translate-x-1")})})]})]}),S.jsx("div",{className:"p-4 border-t bg-gray-50",children:S.jsx("p",{className:"text-xs text-gray-500 text-center",children:"הגדרות אלו נשמרות בדפדפן שלך"})})]})})]})},Ue=u.lazy(()=>f(()=>import("./index-CYCVVwD1.js"),__vite__mapDeps([0,1,2,3,4]))),Be=u.lazy(()=>f(()=>import("./AdminDashboard-CzLYiAI7.js"),__vite__mapDeps([5,1,3,4])));function $e(){(()=>{const e=u.useCallback(()=>{if("undefined"!=typeof window&&"performance"in window){const e=performance.getEntriesByType("navigation")[0];if(e)return e.loadEventEnd-e.loadEventStart}return 0},[]),t=u.useCallback(()=>{if("undefined"!=typeof window&&"performance"in window){const e=performance.getEntriesByType("paint").find(e=>"first-paint"===e.name);return e?e.startTime:0}return 0},[]),r=u.useCallback(()=>{if("undefined"!=typeof window&&"performance"in window){const e=performance.getEntriesByType("paint").find(e=>"first-contentful-paint"===e.name);return e?e.startTime:0}return 0},[]),n=u.useCallback(()=>"undefined"!=typeof window&&"PerformanceObserver"in window?new Promise(e=>{const t=new PerformanceObserver(t=>{const r=t.getEntries(),n=r[r.length-1];e(n?n.startTime:0)});t.observe({entryTypes:["largest-contentful-paint"]}),setTimeout(()=>{t.disconnect(),e(0)},5e3)}):Promise.resolve(0),[]),s=u.useCallback(()=>"undefined"!=typeof window&&"PerformanceObserver"in window?new Promise(e=>{let t=0;const r=new PerformanceObserver(e=>{for(const r of e.getEntries()){const e=r;e.hadRecentInput||(t+=e.value||0)}});r.observe({entryTypes:["layout-shift"]}),setTimeout(()=>{r.disconnect(),e(t)},5e3)}):Promise.resolve(0),[]),a=u.useCallback(()=>d(void 0,null,function*(){return{loadTime:e(),firstPaint:t(),firstContentfulPaint:r(),largestContentfulPaint:yield n(),cumulativeLayoutShift:yield s()}}),[e,t,r,n,s]),i=u.useCallback(()=>d(void 0,null,function*(){yield a()}),[a]);u.useEffect(()=>{const e=setTimeout(()=>{i()},1e3);return()=>clearTimeout(e)},[i])})();const[e,t]=u.useState(!1);return S.jsx(De,{children:S.jsx(He,{children:S.jsx(Pe,{children:S.jsxs(P,{children:[S.jsx(We,{}),S.jsx(ze,{}),S.jsx(_e,{}),S.jsx(Re,{onAdminToggle:()=>{t(!e)},showAdmin:e}),S.jsx(Ae,{onRefresh:()=>d(this,null,function*(){yield new Promise(e=>setTimeout(e,1e3))}),children:S.jsx("main",{id:"main-content",className:"flex-1 p-4 md:p-6 pb-20 md:pb-6",children:S.jsx(u.Suspense,{fallback:S.jsx("div",{className:"flex items-center justify-center h-64",children:S.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-adr-brown"})}),children:e?S.jsx(Be,{}):S.jsx(Ue,{})})})}),S.jsx(Ie,{}),S.jsx(Fe,{})]})})})})}E.createRoot(document.getElementById("root")).render(S.jsx(p.StrictMode,{children:S.jsx($e,{})}));export{R as C,Me as P,z as R,_ as S,V as T,F as W,U as X,Se as a,W as b,M as c,Le as h,S as j,Oe as u};
